# PT Baby Swing –¥–ª—è Home Assistant

–ö–∞—Å—Ç–æ–º–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó Bluetooth –ª—ñ–∂–∫–∞-–∫–æ–ª–∏—Å–∫–∏ PT Baby Swing –≤ Home Assistant.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- üéµ **–ö–µ—Ä—É–≤–∞–Ω–Ω—è –º–µ–ª–æ–¥—ñ—è–º–∏**: 9 –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö –º–µ–ª–æ–¥—ñ–π –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è
- üåä **5 —à–≤–∏–¥–∫–æ—Å—Ç–µ–π –∫–æ–ª–∏—Å–∞–Ω–Ω—è**: –ü–æ–≤–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—é –∫–æ–ª–∏—Å–∞–Ω–Ω—è
- üîä **–ö–æ–Ω—Ç—Ä–æ–ª—å –≥—É—á–Ω–æ—Å—Ç—ñ**: –†–µ–≥—É–ª—é–≤–∞–Ω–Ω—è —Ä—ñ–≤–Ω—è –∑–≤—É–∫—É
- ‚è∞ **–¢–∞–π–º–µ—Ä**: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞–π–º–µ—Ä–∞ –∑ –∫—Ä–æ–∫–æ–º 5 —Ö–≤–∏–ª–∏–Ω (–≤—ñ–¥ 0 –¥–æ 120 —Ö–≤)
- ü§ñ **–Ü–Ω–¥—É–∫—Ü—ñ–π–Ω–∏–π —Ä–µ–∂–∏–º**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ —Ä—É—Ö–∏ –¥–∏—Ç–∏–Ω–∏
- üì± **Bluetooth –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è**: –õ–æ–∫–∞–ª—å–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –±–µ–∑ —Ö–º–∞—Ä–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ß–µ—Ä–µ–∑ HACS (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ HACS –≤ Home Assistant
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —Ç—Ä–∏ –∫—Ä–∞–ø–∫–∏ —É –≤–µ—Ä—Ö–Ω—å–æ–º—É –ø—Ä–∞–≤–æ–º—É –∫—É—Ç—ñ
3. –í–∏–±–µ—Ä—ñ—Ç—å "Custom repositories"
4. –î–æ–¥–∞–π—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é: `https://github.com/yourusername/pt_baby`
5. –í–∏–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é "Integration"
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Add"
7. –ó–Ω–∞–π–¥—ñ—Ç—å "PT Baby Swing" –≤ HACS —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å
8. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Home Assistant

### –í—Ä—É—á–Ω—É

1. –°–∫–æ–ø—ñ—é–π—Ç–µ –ø–∞–ø–∫—É `custom_components/pt_baby` –¥–æ –ø–∞–ø–∫–∏ `config/custom_components/` –≤–∞—à–æ–≥–æ Home Assistant
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Home Assistant

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings** > **Devices & Services**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **+ Add Integration**
3. –ó–Ω–∞–π–¥—ñ—Ç—å **PT Baby Swing**
4. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à –ø—Ä–∏—Å—Ç—Ä—ñ–π –∑—ñ —Å–ø–∏—Å–∫—É –≤–∏—è–≤–ª–µ–Ω–∏—Ö Bluetooth –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Submit**

## –°—É—Ç–Ω–æ—Å—Ç—ñ

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±—É–¥—É—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ:

### Fan (–í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä)
- **–ö–æ–ª–∏—Å–∞–Ω–Ω—è** - –ö–µ—Ä—É–≤–∞–Ω–Ω—è —à–≤–∏–¥–∫—ñ—Å—Ç—é –∫–æ–ª–∏—Å–∞–Ω–Ω—è (5 —Ä—ñ–≤–Ω—ñ–≤)

### Media Player (–ú–µ–¥—ñ–∞-–ø–ª–µ—î—Ä)
- **–ú–µ–ª–æ–¥—ñ—ó** - –ö–µ—Ä—É–≤–∞–Ω–Ω—è –≤–±—É–¥–æ–≤–∞–Ω–∏–º–∏ –º–µ–ª–æ–¥—ñ—è–º–∏
  - –í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è/–∑—É–ø–∏–Ω–∫–∞
  - –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ 9 –º–µ–ª–æ–¥—ñ—è–º–∏
  - –†–µ–≥—É–ª—é–≤–∞–Ω–Ω—è –≥—É—á–Ω–æ—Å—Ç—ñ

### Number (–ß–∏—Å–ª–æ)
- **–¢–∞–π–º–µ—Ä** - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞–π–º–µ—Ä–∞ (0-120 —Ö–≤, –∫—Ä–æ–∫ 5 —Ö–≤)

### Switch (–ü–µ—Ä–µ–º–∏–∫–∞—á)
- **–ñ–∏–≤–ª–µ–Ω–Ω—è** - –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è/–≤–∏–º–∫–Ω–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é
- **–Ü–Ω–¥—É–∫—Ü—ñ–π–Ω–∏–π —Ä–µ–∂–∏–º** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ —Ä—É—Ö–∏

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –∑–∞—Å–∏–Ω–∞–Ω–Ω—è

```yaml
automation:
  - alias: "–í–µ—á—ñ—Ä–Ω—ñ–π —Ä–µ–∂–∏–º –∫–æ–ª–∏—Å–∫–∏"
    trigger:
      - platform: time
        at: "21:00:00"
    action:
      - service: switch.turn_on
        target:
          entity_id: switch.pt_baby_power
      - service: fan.set_percentage
        target:
          entity_id: fan.pt_baby_swing
        data:
          percentage: 40  # –®–≤–∏–¥–∫—ñ—Å—Ç—å 2
      - service: media_player.select_source
        target:
          entity_id: media_player.pt_baby_melody
        data:
          source: "–ú–µ–ª–æ–¥—ñ—è 3"
      - service: number.set_value
        target:
          entity_id: number.pt_baby_timer
        data:
          value: 30
```

### –Ü–Ω–¥—É–∫—Ü—ñ–π–Ω–∏–π —Ä–µ–∂–∏–º –Ω–∞ –Ω—ñ—á

```yaml
automation:
  - alias: "–Ü–Ω–¥—É–∫—Ü—ñ–π–Ω–∏–π —Ä–µ–∂–∏–º –Ω–∞ –Ω—ñ—á"
    trigger:
      - platform: time
        at: "22:00:00"
    action:
      - service: switch.turn_on
        target:
          entity_id: switch.pt_baby_induction_mode
```

### –í–∏–º–∫–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Ç–∞–π–º–µ—Ä

```yaml
automation:
  - alias: "–í–∏–º–∫–Ω–µ–Ω–Ω—è –∫–æ–ª–∏—Å–∫–∏ —á–µ—Ä–µ–∑ 30 —Ö–≤"
    trigger:
      - platform: state
        entity_id: switch.pt_baby_power
        to: "on"
        for:
          minutes: 30
    action:
      - service: switch.turn_off
        target:
          entity_id: switch.pt_baby_power
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Bluetooth

### –í–∞–∂–ª–∏–≤–æ!

–ü–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ UUID —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —É —Ñ–∞–π–ª—ñ `const.py`:

```python
SERVICE_UUID = "0000fff0-0000-1000-8000-00805f9b34fb"  # –í–∞—à Service UUID
WRITE_CHARACTERISTIC_UUID = "0000fff1-0000-1000-8000-00805f9b34fb"  # Write UUID
NOTIFY_CHARACTERISTIC_UUID = "0000fff2-0000-1000-8000-00805f9b34fb"  # Notify UUID
```

–¢–∞–∫–æ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥ —É `coordinator.py`:

```python
async def _send_command(self, command: str) -> None:
    """Send command to device."""
    # –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –∫–æ–º–∞–Ω–¥—É –≤ bytes –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É –≤–∞—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é
    cmd_bytes = command.encode()  # –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à —Ñ–æ—Ä–º–∞—Ç
```

## –ö–æ–º–∞–Ω–¥–∏ –ø—Ä–∏—Å—Ç—Ä–æ—é

- `cmd38` - –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é
- `cmd10-cmd15` - –®–≤–∏–¥–∫–æ—Å—Ç—ñ –∫–æ–ª–∏—Å–∞–Ω–Ω—è (1-5, cmd15 - –≤–∏–∫–ª—é—á–µ–Ω–Ω—è)
- `cmd01-cmd09` - –í–∏–±—ñ—Ä –º–µ–ª–æ–¥—ñ—ó (1-9)
- `cmd39` - –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è –º–µ–ª–æ–¥—ñ—ó

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–æ–º–∞–Ω–¥–∏ (–ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏):
- –í–∏–º–∫–Ω–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é
- –í–∏–º–∫–Ω–µ–Ω–Ω—è –º–µ–ª–æ–¥—ñ—ó
- –ù–∞—Å—Ç—É–ø–Ω–∞ –º–µ–ª–æ–¥—ñ—è
- –ü–æ–ø–µ—Ä–µ–¥–Ω—è –º–µ–ª–æ–¥—ñ—è
- –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –≥—É—á–Ω–æ—Å—Ç—ñ
- –ó–º–µ–Ω—à–µ–Ω–Ω—è –≥—É—á–Ω–æ—Å—Ç—ñ
- –¢–∞–π–º–µ—Ä
- –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è —ñ–Ω–¥—É–∫—Ü—ñ–π–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É
- –í–∏–º–∫–Ω–µ–Ω–Ω—è —ñ–Ω–¥—É–∫—Ü—ñ–π–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É

## –í—ñ–¥–ª–∞–¥–∫–∞

–£–≤—ñ–º–∫–Ω—ñ—Ç—å –¥–µ—Ç–∞–ª—å–Ω–∏–π –ª–æ–≥ –¥–ª—è –≤—ñ–¥–ª–∞–¥–∫–∏:

```yaml
logger:
  default: info
  logs:
    custom_components.pt_baby: debug
```

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∏—Å—Ç—Ä—ñ–π –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–∞–¥—ñ—É—Å—ñ –¥—ñ—ó Bluetooth
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø—Ä–∏—Å—Ç—Ä—ñ–π –Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ —ñ–Ω—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Home Assistant
4. –°—Ç–≤–æ—Ä—ñ—Ç—å issue –Ω–∞ GitHub

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```
custom_components/pt_baby/
‚îú‚îÄ‚îÄ __init__.py          # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ manifest.json        # –ú–µ—Ç–∞–¥–∞–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ const.py            # –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —Ç–∞ –∫–æ–º–∞–Ω–¥–∏
‚îú‚îÄ‚îÄ config_flow.py      # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ UI
‚îú‚îÄ‚îÄ coordinator.py      # Bluetooth –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ entity.py           # –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å entity
‚îú‚îÄ‚îÄ fan.py              # –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–ª–∏—Å–∞–Ω–Ω—è–º
‚îú‚îÄ‚îÄ media_player.py     # –ö–µ—Ä—É–≤–∞–Ω–Ω—è –º–µ–ª–æ–¥—ñ—è–º–∏
‚îú‚îÄ‚îÄ number.py           # –¢–∞–π–º–µ—Ä
‚îú‚îÄ‚îÄ switch.py           # –ñ–∏–≤–ª–µ–Ω–Ω—è —Ç–∞ —ñ–Ω–¥—É–∫—Ü—ñ–π–Ω–∏–π —Ä–µ–∂–∏–º
‚îî‚îÄ‚îÄ strings.json        # –ü–µ—Ä–µ–∫–ª–∞–¥–∏ (—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞)
```

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## –ê–≤—Ç–æ—Ä

–í–∞—à–µ —ñ–º'—è (@yourusername)